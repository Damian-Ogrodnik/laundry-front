(this.webpackJsonplaundry=this.webpackJsonplaundry||[]).push([[0],{149:function(e,t,n){e.exports=n(246)},156:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(32),o=n.n(c),s=n(21),u=n(8),l=n(98),i=(n(156),n(157),n(36)),m=n(9),d={error:null,loading:!1,logged:!1,id:null,isAdmin:!1,name:null,token:null,user:{}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOGIN":return Object(m.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(m.a)({},e,{token:a.token,id:a.id,name:a.name,isAdmin:a.admin,loading:!1,logged:!0});case"LOGIN_FAILURE":return Object(m.a)({},e,{error:a.error,loading:!1});case"CHANGE_PASSWORD":return Object(m.a)({},e,{loading:!0});case"CHANGE_PASSWORD_SUCCESS":return Object(m.a)({},e,{loading:!1,error:null});case"CHANGE_PASSWORD_FAILURE":return Object(m.a)({},e,{loading:!1,error:a.error});case"LOGOUT":return Object(m.a)({},e,{error:null,user:{},logged:!1,loading:!1,id:null,name:null,token:null,isAdmin:!1});case"CLEAR_ERRORS":return Object(m.a)({},e,{error:null});default:return e}},E={date:null,error:null,loading:!1,takenSlots:[],selectedSlot:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_DATE":return Object(m.a)({},e,{loading:!0,date:a.date});case"GET_SLOTS_FAILURE":return Object(m.a)({},e,{error:a.error,loading:!1,takenSlots:null});case"GET_SLOTS_SUCCESS":return Object(m.a)({},e,{error:null,loading:!1,takenSlots:a.takenSlots});case"SELECT_SLOT":return Object(m.a)({},e,{selectedSlot:a.slotNumber});case"RESET_BOOKINGS":return Object(m.a)({},e,{error:null,takenSlots:[],selectedSlot:{}});default:return e}},f={bookedSlot:null,error:!1,loading:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case"START_BOOKING":return Object(m.a)({},e,{loading:!0});case"BOOKING_FAILURE":return Object(m.a)({},e,{error:n.error,loading:!1});case"BOOKING_SUCCESS":return Object(m.a)({},e,{bookedSlot:n.bookedSlot,loading:!1});case"RESET_BOOKING":return Object(m.a)({},e,{bookedSlot:null,error:!1,loading:!1});default:return e}},v={loading:!1,error:!1,userBookings:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case"FETCH_BOOKINGS":return Object(m.a)({},e,{error:!1,loading:!0,userBookings:[]});case"FETCH_BOOKINGS_SUCCESS":return Object(m.a)({},e,{error:!1,loading:!1,userBookings:n.userBookings});case"FETCH_BOOKINGS_FAILURE":return Object(m.a)({},e,{error:n.error,loading:!1,userBookings:[]});case"DELETE_BOOKING":return Object(m.a)({},e,{error:!1,loading:!0});case"DELETE_BOOKING_SUCCESS":return Object(m.a)({},e,{error:!1,loading:!1});case"DELETE_BOOKING_FAILURE":return Object(m.a)({},e,{error:n.error,loading:!1});default:return e}},_={toastActive:!1,type:void 0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ENABLE_TOAST":return Object(m.a)({},e,{type:a.type});case"ACTIVE_TOAST":return Object(m.a)({},e,{toastActive:!0});case"DISABLE_TOAST":return{toastActive:!1,type:void 0};default:return e}},h={choosedSlot:{},error:null,details:{},loading:!1,user:[],userBookings:[],users:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"BOOK_SLOT_START":return Object(m.a)({},e,{loading:!0,error:null});case"BOOK_SLOT_FAILURE":return Object(m.a)({},e,{error:a.error,loading:!1});case"BOOK_SLOT_SUCCESS":return Object(m.a)({},e,{error:null,loading:!1});case"GET_DETAILS_SUCCESS":return Object(m.a)({},e,{details:Object(m.a)({},a),error:null,loading:!1});case"GET_USERS_SUCCESS":return Object(m.a)({},e,{users:a.users,error:null,loading:!1});case"GET_USER_SUCCESS":return Object(m.a)({},e,{user:a.user,error:null,loading:!1});case" GET_BOOKINGS_SUCCESS":return Object(m.a)({},e,{userBookings:a.userBookings,error:null,loading:!1});case"CHOOSE_SLOT":return Object(m.a)({},e,{choosedSlot:Object(m.a)({},a)});default:return e}},y=Object(i.combineReducers)({user:p,board:b,booking:O,userBookings:g,toast:S,admin:w}),k=n(137),N=n(138),j=Object(i.createStore)(y,Object(k.composeWithDevTools)(Object(i.applyMiddleware)(N.a))),C=n(10),T=[["Account","/user"],["Book","/booking-board"],["My Bookings","/user-bookings"]],x=[["Home","/"],["Sign In","/sign-in"],["Sign Up","/sign-up"]],A=[["Bookings","/admin"],["Search","/admin/search"]],L=function(){var e=Object(u.c)((function(e){return e.user})),t=e.isAdmin,n=e.logged;return r.a.createElement("div",{className:"navigation"},r.a.createElement("div",{className:"navigation__logo"}),r.a.createElement("ul",{className:"navigation__links"},(n?t?A:T:x).map((function(e){var t=Object(C.a)(e,2),n=t[0],a=t[1];return r.a.createElement(s.c,{key:n,activeClassName:"selected",exact:!0,to:a},r.a.createElement("li",null,n))}))))},B=n(54),R=n(46),I=function(e){return{type:"LOGIN_SUCCESS",payload:{token:e.token,id:e.id,name:e.name,admin:e.admin}}},G=function(e){return{type:"LOGIN_FAILURE",payload:{error:e}}},U=function(e){return{type:"CHANGE_PASSWORD_FAILURE",payload:{error:e}}},D=function(e){var t=e.component,n=e.secured,c=e.path,o=Object(R.a)(e,["component","secured","path"]),s=Object(u.c)((function(e){return e.user})),l=s.error,i=s.isAdmin,m=s.logged,d=Object(u.b)();return Object(a.useEffect)((function(){l&&d({type:"CLEAR_ERRORS"})}),[c]),!m||i||"/sign-in"!==c&&"/sign-up"!==c?i&&m&&"/sign-in"===c?r.a.createElement(B.a,{to:"/admin"}):!m&&n?r.a.createElement(B.a,{to:"/sign-in"}):r.a.createElement(B.b,Object.assign({},o,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(B.a,{to:"/booking-board"})},P=[{number:1,hours:"6.00-8.00",lastBooking:7},{number:2,hours:"8.00-10.00",lastBooking:9},{number:3,hours:"10.00-12.00",lastBooking:11},{number:4,hours:"12.00-14.00",lastBooking:13},{number:5,hours:"14.00-16.00",lastBooking:15},{number:6,hours:"16.00-18.00",lastBooking:17},{number:7,hours:"18.00-20.00",lastBooking:19},{number:8,hours:"20.00-22.00",lastBooking:21}],F=function(e){return{type:"BOOK_SLOT_FAILURE",payload:{error:e}}},K=function(e){return{type:"DELETE_SLOT_FAILURE",payload:{error:e}}},H=function(e){return{type:"GET_USERS_FAILURE",payload:{error:e}}},q=function(e){return{type:"GET_USERS_SUCCESS",payload:{users:e}}},W=n(5),M=n.n(W),V=function(e,t){var n,a,r,c,o,s,u,l;return M.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=!0,e&&(a=(new Date).setHours(0,0,0,0),r=e.split("-"),c=Object(C.a)(r,3),o=c[0],s=c[1],u=c[2],l=new Date(u,s-1,o).setHours(0,0,0,0),a===l&&t<=(new Date).getHours()&&(n=!1)),i.abrupt("return",n);case 3:case"end":return i.stop()}}))},Y=function(e){return"".concat(e.getUTCDate(),"-").concat(e.getUTCMonth()+1,"-").concat(e.getUTCFullYear())},z=function(e){var t;return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.awrap(e.sort((function(e,t){var n=e.date.split("-"),a=Object(C.a)(n,3),r=a[0],c=a[1],o=a[2],s=t.date.split("-"),u=Object(C.a)(s,3),l=u[0],i=u[1],m=u[2];return new Date(m,i-1,l)-new Date(o,c-1,r)})));case 2:return t=n.sent,n.next=5,M.a.awrap(J(t));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}))},J=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(e.filter((function(e){var t=e.date.split("-"),n=Object(C.a)(t,3),a=n[0],r=n[1],c=n[2];return new Date(c,r-1,a)>=(new Date).setHours(0,0,0,0)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,c=Object(a.useState)(e),o=Object(C.a)(c,2),s=o[0],l=o[1],i=Object(a.useState)(""),m=Object(C.a)(i,2),d=m[0],p=m[1],E=Object(u.c)((function(e){return e.board.date}));return Object(a.useEffect)((function(){!function(){var n;M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=5;break}return a.next=3,M.a.awrap(V(E,t));case 3:n=a.sent,l(!n);case 5:case"end":return a.stop()}}))}()}),[E,t,e]),Object(a.useEffect)((function(){p(s?"--taken":n?"--available--selected":r?"--available user":"--available")}),[r,n,s]),[s,d]},Q=n(6),Z=n(11),$=n(43),ee=n.n($),te=n(13),ne=te.a().shape({Nickname:te.c().max(15,"Must be 15 characters or less").required("Required"),Email:te.c().email("Invalid email address").required("Required"),Password:te.c().required("Required").min(8,"Password must be at least 8 characters"),Repassword:te.c().when("Password",{is:function(e){return!!(e&&e.length>0)},then:te.c().oneOf([te.b("Password")],"Both password need to be the same")})}),ae=te.a().shape({Nickname:te.c().required("Required"),Password:te.c().required("Required")}),re=te.a().shape({Nickname:te.c().required("Required")}),ce=te.a().shape({Password:te.c().required("Required"),newPassword:te.c().required("Required").min(8,"Password must be at least 8 characters"),newPasswordConfirm:te.c().when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:te.c().oneOf([te.b("newPassword")],"Both password need to be the same")})}),oe=te.a().shape({newPassword:te.c().required("Required").min(8,"Password must be at least 8 characters"),newPasswordConfirm:te.c().when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:te.c().oneOf([te.b("newPassword")],"Both password need to be the same")})}),se=n(142),ue=n.n(se).a.create({baseURL:"https://laundry-dorn.herokuapp.com/",timeout:1e3,headers:{"content-type":"application/json"}});ue.interceptors.request.use((function(e){var t;return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.headers["Access-Control-Allow-Origin"]="*",e.headers.Authorization){n.next=6;break}return n.next=4,M.a.awrap(localStorage.token);case 4:(t=n.sent)&&(e.headers.Authorization=t);case 6:return n.abrupt("return",e);case 7:case"end":return n.stop()}}))}),(function(e){return Promise.reject(e)}));var le=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(ue.post("/admin/book",e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ie=function(e,t){return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.awrap(ue.post("admin/user-password",{id:e,newPassword:t}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},me=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(ue.delete("/admin/delete/".concat(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},de=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(ue.get("/admin/booking/".concat(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},pe=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(ue.get("/admin/users",{params:{name:e}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Ee=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(ue.get("/admin/user",{params:{id:e}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},be=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.awrap(ue.get("/admin/user-bookings",{params:{id:e}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},fe=function(e,t){return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.awrap(ue.post("admin/user-".concat(t?"unblock":"block"),{id:e}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},Oe=function(e){return{type:"ENABLE_TOAST",payload:{type:e}}},ve=function(e){return{type:"SET_DATE",payload:{date:e}}},ge=function(e){return{type:"GET_SLOTS_FAILURE",payload:{error:e}}},_e=function(e){return{type:"GET_SLOTS_SUCCESS",payload:{takenSlots:e}}},Se=function(e,t){var n,a;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.number,a=t.hours,r.next=3,M.a.awrap(ue.post("/booking/",{date:e,number:n,hours:a}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},he=function(e,t){return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.awrap(ue.delete("/booking/".concat(e,"/").concat(t)));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},we=function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ue.get("/booking/".concat(e)));case 1:case"end":return t.stop()}}))},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var a;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t){r.next=5;break}return r.next=4,M.a.awrap(Y(e));case 4:e=r.sent;case 5:return r.next=7,M.a.awrap(n(ve(e)));case 7:return r.next=9,M.a.awrap(we(e).catch((function(e){throw new Error("Internal Server Error")})));case 9:a=r.sent,n(_e(a.data.slots)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),n(ge(r.t0.message));case 16:case"end":return r.stop()}}),null,null,[[0,13]])}},ke=function(e,t,n,a){return function(r){return M.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:"DELETE_SLOT_START"}),c.next=4,M.a.awrap(me(t));case 4:return r({type:"DELETE_SLOT_SUCCESS"}),r(Oe("DELETE")),c.abrupt("return",r(n?je(a):ye(e,!0)));case 9:c.prev=9,c.t0=c.catch(0),c.t0.response?(r(K(c.t0.response.statusText)),r(Oe("ERROR"))):(r(K("Internal server error")),r(Oe("ERROR")));case 12:case"end":return c.stop()}}),null,null,[[0,9]])}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){var n;return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M.a.awrap(t({type:"GET_USERS_START"}));case 3:return a.next=5,M.a.awrap(pe(e).catch((function(){throw new Error("Internal Server Error")})));case 5:n=a.sent,t(q(n.data)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t(H(a.t0.message));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}},je=function(e){return function(t){var n,a;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M.a.awrap(t({type:"GET_BOOKINGS_START"}));case 3:return r.next=5,M.a.awrap(be(e).catch((function(){throw new Error("Internal Server Error")})));case 5:return n=r.sent,r.next=8,M.a.awrap(z(n.data));case 8:a=r.sent,t({type:" GET_BOOKINGS_SUCCESS",payload:{userBookings:a}}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),t({type:"GET_BOOKINGS_FAILURE",payload:{error:r.t0.message}});case 15:case"end":return r.stop()}}),null,null,[[0,12]])}},Ce=function(e){var t=e.date,n=e.text,a=e.time;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement("div",{className:"modal__basics"},r.a.createElement("div",{className:"modal__date"},r.a.createElement("p",null,r.a.createElement("span",null,"Date:")," ",t)),r.a.createElement("div",{className:"modal__time"},r.a.createElement("p",null,r.a.createElement("span",null,"Time:")," ",a))))},Te={Nickname:""},xe=Object(i.compose)((function(e){return function(t){var n=Object(Q.a)({},t),c=Object(a.useState)(!1),o=Object(C.a)(c,2),s=o[0],l=o[1],i=Object(u.c)((function(e){return e.board.date})),m=Object(u.c)((function(e){return e.admin.choosedSlot})),d=m.hours,p=m.number,E=Object(u.b)();return Object(a.useEffect)((function(){ee.a.setAppElement("#root")}),[s]),r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(ee.a,{isOpen:s,contentLabel:"Booking",className:"modal modal",overlayClassName:"overlay"},r.a.createElement(Ce,{text:"Book Slot",time:d,date:i}),r.a.createElement(Z.d,{initialValues:Te,validationSchema:re,onSubmit:function(e){var t=e.Nickname;E(function(e,t,n,a){return function(r){var c;return M.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,r({type:"BOOK_SLOT_START"}),o.next=4,M.a.awrap(le({name:e,date:t,number:n,hours:a}));case 4:c=o.sent,r((c.data,{type:"BOOK_SLOT_SUCCESS"})),r(Oe("BOOK")),r(ye(t,!0)),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),o.t0.response?(r(F(o.t0.response.data.msg)),r(Oe("ERROR"))):(r(F("Internal server error")),r(Oe("ERROR")));case 13:case"end":return o.stop()}}),null,null,[[0,10]])}}(t,i,p,d)),l(!1)}},r.a.createElement(Z.c,null,r.a.createElement("div",{key:"Nickname",className:"modal__input"},r.a.createElement("label",{htmlFor:"Nickname"},"User Nickname"),r.a.createElement(Z.b,{name:"Nickname",type:"text"}),r.a.createElement(Z.a,{name:"Nickname"},(function(e){return r.a.createElement("div",{className:"form__error modal__error"},e)}))),r.a.createElement("div",{className:"modal__buttons"},r.a.createElement("button",{className:"form__button",type:"submit"},"BOOK"),r.a.createElement("button",{className:"form__button",onClick:function(){return l(!1)}},"CLOSE"))))),r.a.createElement(e,Object.assign({},n,{openBooking:l})))}}),(function(e){return function(t){var n=Object(Q.a)({},t.props),c=t.openBooking,o=Object(a.useState)(!1),s=Object(C.a)(o,2),l=s[0],i=s[1],d=Object(u.c)((function(e){return e.board.date})),p=Object(u.c)((function(e){return e.admin})),E=p.choosedSlot.hours,b=p.details.user,f=Object(u.b)();return Object(a.useEffect)((function(){var e;l&&(ee.a.setAppElement("#root"),f((e=n.slotId,function(t){var n;return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M.a.awrap(t({type:"GET_DETAILS_START"}));case 3:return a.next=5,M.a.awrap(de(e).catch((function(){throw new Error("Internal Server Error")})));case 5:n=a.sent,t((r=n.data,{type:"GET_DETAILS_SUCCESS",payload:Object(m.a)({},r)})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"GET_DETAILS_FAILURE",payload:{error:a.t0.message}});case 12:case"end":return a.stop()}var r}),null,null,[[0,9]])})))}),[l]),r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(ee.a,{isOpen:l,contentLabel:"Details",className:"modal details-modal",overlayClassName:"overlay"},r.a.createElement(Ce,{text:"Booking Details",date:d,time:E}),r.a.createElement("div",{className:"modal__user"},r.a.createElement("p",null,"User"),r.a.createElement("p",null,r.a.createElement("span",null,b))),r.a.createElement("div",{className:"modal__buttons"},r.a.createElement("button",{onClick:function(){f(ke(d,n.slotId)),i(!1)}},"DELETE"),r.a.createElement("button",{onClick:function(){return i(!1)}},"CLOSE"))),r.a.createElement(e,{props:Object(m.a)({openBooking:c,openDetails:i},n)}))}}))((function(e){var t=e.props,n=t.hours,a=t.lastBooking,c=t.number,o=t.openBooking,s=t.openDetails,l=t.slotId,i=t.taken,m=X(i,a,!1,l),d=Object(C.a)(m,2),p=d[0],E=d[1],b=Object(u.b)();return r.a.createElement("div",{className:"booking__slot booking__slot".concat(E)},r.a.createElement("h2",null,n),p?r.a.createElement("p",null,"Unavailable"):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,l?"Taken":"Available"),r.a.createElement("button",{onClick:function(){l?s(!0):o(!0),b({type:"CHOOSE_SLOT",payload:{slotId:l,hours:n,number:c}})}},l?"DETAILS":"BOOK")))})),Ae=function(e){var t=e.text,n=e.toastType,a=Object(u.c)((function(e){return e.toast})),c=a.toastActive,o=a.type,s=Object(u.b)();return r.a.createElement(r.a.Fragment,null,c||n!==o?null:void l.b.warn(t,{position:"top-right",autoClose:!0,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onOpen:function(){return s({type:"ACTIVE_TOAST"})},onClose:function(){return s({type:"DISABLE_TOAST"})}}))},Le=function(){var e=Object(u.c)((function(e){return e.admin.error})),t=Object(u.c)((function(e){return e.board.takenSlots}));return r.a.createElement("div",{className:"booking__slots"},P.map((function(e){var n=e.number,a=Object(R.a)(e,["number"]),c=t.filter((function(e){return n===e.number}));return c.length?r.a.createElement(xe,{key:n,props:Object(m.a)({number:n,slotId:c[0]._id,taken:c},a)}):r.a.createElement(xe,{key:n,props:Object(m.a)({number:n},a)})})),r.a.createElement(Ae,{text:"Slot booked",toastType:"BOOK"}),r.a.createElement(Ae,{text:"Slot deleted",toastType:"DELETE"}),r.a.createElement(Ae,{text:e,toastType:"ERROR"}))},Be=n(143),Re=n.n(Be),Ie=n(75),Ge=function(e){return{type:"BOOKING_FAILURE",payload:{error:e}}},Ue=(n(185),function(e){var t=e.name,n=Object(a.useState)(new Date),c=Object(C.a)(n,2),o=c[0],s=c[1],l=Object(u.c)((function(e){return e.booking.bookedSlot})),i=Object(u.b)();return Object(a.useEffect)((function(){i({type:"RESET_BOOKINGS"}),i({type:"RESET_BOOKING"}),i(ye(o))}),[o,l]),r.a.createElement("div",{className:"".concat(t,"__datepicker")},r.a.createElement(Re.a,{maxDate:Object(Ie.default)(new Date,7),minDate:new Date,onChange:function(e){return s(e)},selected:o}))}),De=function(){var e=Object(u.b)();return r.a.createElement("button",{className:"logout",onClick:function(){return e({type:"LOGOUT"})}},"LOGOUT")},Pe=function(){return r.a.createElement("div",{className:"bookings"},r.a.createElement(Ue,{name:"bookings"}),r.a.createElement(Le,null),r.a.createElement(De,null))},Fe=n(38),Ke=n(0),He=function(e){var t=e.icon,n=e.name;return r.a.createElement(Ke.b.Provider,{value:{className:n}},t)},qe=function(){var e=Object(B.g)();return r.a.createElement("div",{className:"back-arrow",onClick:function(){return e.goBack()}},r.a.createElement(He,{icon:r.a.createElement(Fe.a,null)}))},We=function(e){var t=e.errorMsg,n=e.name,a=e.icon;return r.a.createElement("div",{className:"".concat(n," error")},a&&r.a.createElement(He,{icon:r.a.createElement(Fe.d,null),name:"".concat(n," error__icon")}),r.a.createElement("p",null,t))},Me=function(e){var t=e.action,n=e.title,a=e.render,c=Object(u.c)((function(e){return e.user.error}));return r.a.createElement("div",{className:"form__wrapper"},c&&r.a.createElement(We,{name:"form__error main",errorMsg:c}),r.a.createElement("h2",null,n),a(),r.a.createElement("button",{className:"form__button",type:"submit"},t))},Ve={newPassword:"",newPasswordConfirm:""},Ye=function(){var e=Object(B.h)().id,t=Object(u.b)();return r.a.createElement("div",{className:"password"},r.a.createElement(qe,null),r.a.createElement(Ae,{text:"Password Changed",toastType:"CHANGE"}),r.a.createElement(Z.d,{initialValues:Ve,validationSchema:oe,onSubmit:function(n,a){var r=n.newPassword;(0,a.resetForm)({}),t(function(e,t){return function(n){return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"CHANGE_PASSWORD_START"}),a.next=4,M.a.awrap(ie(e,t));case 4:n({type:"CHANGE_PASSWORD_SUCCESS"}),n(Oe("CHANGE")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"CHANGE_PASSWORD_FAILURE",payload:{error:a.t0.message}});case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}(e,r))}},r.a.createElement(Z.c,{className:"password__form"},r.a.createElement(Me,{title:"Change Password",action:"CHANGE",render:function(){return Object.keys(Ve).map((function(e){return r.a.createElement("div",{key:e,className:"form__input"},r.a.createElement("label",{htmlFor:e},"newPassword"===e?"New Password":"Confirm New Password"),r.a.createElement(Z.b,{name:e,type:"Password"}),r.a.createElement(Z.a,{name:e},(function(e){return r.a.createElement("div",{className:"form__error"},e)})))}))}}))))},ze=function(){var e=Object(u.c)((function(e){return e.booking})).error;return e&&r.a.createElement("div",{className:"booking__wrapper"},r.a.createElement("div",{className:"booking__error"},e))},Je=n(146),Xe=n.n(Je),Qe=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(Xe.a,{size:55,color:"#b82601",loading:!0}))},Ze=function(e){return function(t){var n=t.error,a=t.loading,c=Object(R.a)(t,["error","loading"]);return a?r.a.createElement(Qe,null):n?r.a.createElement(We,{errorMsg:"Ooops... Something went wrong. Try again later.",name:"main",icon:!0}):r.a.createElement(e,c)}},$e=function(e){return function(t){var n=Object(Q.a)({},t),c=Object(a.useState)(!1),o=Object(C.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(!1),i=Object(C.a)(l,2),m=i[0],d=i[1];return Object(a.useEffect)((function(){s&&ee.a.setAppElement("#root")}),[s]),r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(ee.a,{isOpen:s,contentLabel:"Confirmation",className:"modal",overlayClassName:"overlay"},r.a.createElement("h2",null,"Are you sure?"),r.a.createElement("button",{onClick:function(){u(!1),d(!0)}},"YES"),r.a.createElement("button",{onClick:function(){u(!1),d(!1)}},"NO")),r.a.createElement(e,Object.assign({},n,{setOpen:u,confirm:m})))}},et=function(e){return{type:"DELETE_BOOKING_FAILURE",payload:{error:e}}},tt=function(){return function(e){var t,n;return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"FETCH_BOOKINGS"}),a.next=4,M.a.awrap(M.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.awrap(ue.get("/booking/user-bookings"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}})));case 4:return t=a.sent,a.next=7,M.a.awrap(z(t.data));case 7:n=a.sent,e({type:"FETCH_BOOKINGS_SUCCESS",payload:{userBookings:n}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),a.t0.response?e(et(a.t0.response.data.msg)):e(et("Internal server error"));case 14:case"end":return a.stop()}}),null,null,[[0,11]])}},nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M.a.awrap(a({type:"DELETE_BOOKING"}));case 3:return r.next=5,M.a.awrap(he(e,t));case 5:return r.next=7,M.a.awrap(a({type:"DELETE_BOOKING_SUCCESS"}));case 7:if(!n){r.next=13;break}return r.next=10,M.a.awrap(a(Oe("CANCEL")));case 10:a(ye(e,!0)),r.next=14;break;case 13:a(tt());case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),r.t0.response?a(et(r.t0.response.data.msg)):a(et("Internal server error"));case 19:case"end":return r.stop()}}),null,null,[[0,16]])}},at=$e((function(e){var t=e.confirm,n=e.props,c=n.hours,o=n.id,s=n.lastBooking,l=n.number,i=e.selected,m=e.setOpen,d=e.taken,p=X(d,s,i),E=Object(C.a)(p,2),b=E[0],f=E[1],O=Object(u.c)((function(e){return e.board.date})),v=Object(u.b)();return Object(a.useEffect)((function(){t&&v(nt(O,o,!0))}),[t,O,v,o,l]),r.a.createElement("div",{className:"booking__slot booking__slot".concat(f)},r.a.createElement("h2",null,c),b&&!o&&r.a.createElement("h2",null,"Unavailable"),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"booking__slot__info"},"Your Booking"),r.a.createElement("button",{onClick:function(){return m(!0)}},"Cancel")),!b&&r.a.createElement("button",{onClick:function(){return v({type:"SELECT_SLOT",payload:{slotNumber:{number:l,hours:c}}})}},"SELECT"))})),rt=function(){var e=Object(u.c)((function(e){return e.board})),t=e.selectedSlot,n=e.takenSlots,a=Object(u.c)((function(e){return e.user.id}));return r.a.createElement("div",{className:"booking__slots"},P.map((function(e){var c=e.number,o=Object(R.a)(e,["number"]),s=n.filter((function(e){return c===e.number}));if(s.length){var u=s[0].user===a?s[0]._id:null;return r.a.createElement(at,{key:c,taken:!0,props:Object(m.a)({id:u,number:c},o)})}return t.number===c?r.a.createElement(at,{key:c,selected:!0,props:Object(m.a)({number:c},o)}):r.a.createElement(at,{key:c,props:Object(m.a)({number:c},o)})})))},ct=function(e,t){return function(n){var a;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"START_BOOKING"}),r.next=4,M.a.awrap(Se(e,t));case 4:a=r.sent,n({type:"BOOKING_SUCCESS",payload:{bookedSlot:a.data}}),n(Oe("BOOK")),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),r.t0.response?n(Ge(r.t0.response.data.msg)):n(Ge("Internal server error"));case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},ot=function(){var e=Object(u.c)((function(e){return e.board})),t=e.date,n=e.selectedSlot,a=Object(u.b)();return r.a.createElement("button",{className:"booking__button",onClick:function(){return M.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",a(Ge("You have to select slot before book...")));case 2:a(ct(t,n));case 3:case"end":return e.stop()}}))}},"BOOK")},st=Ze((function(){return r.a.createElement("div",{className:"booking"},r.a.createElement(rt,null),r.a.createElement(ot,null),r.a.createElement(ze,null),r.a.createElement(Ae,{text:"Slot booked",toastType:"BOOK"}),r.a.createElement(Ae,{text:"Booking canceled",toastType:"CANCEL"}))})),ut=function(){var e=Object(u.c)((function(e){return e.board})),t=e.error,n=e.loading;return r.a.createElement("div",{className:"booking-board__wrapper"},r.a.createElement(Ue,{name:"booking-board"}),r.a.createElement(st,{error:t,loading:n}),r.a.createElement(De,null))},lt=n(95),it=[[r.a.createElement(lt.b,null),["21 Kamienna Street","Warsaw, Poland"]],[r.a.createElement(Fe.c,null),["laundry_dorn@gmail.com"]],[r.a.createElement(Fe.e,null),["+48 888 436 493"]]],mt=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer__wrapper"},it.map((function(e){var t=Object(C.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{key:a[0],className:"container"},r.a.createElement(He,{name:"container__icon",icon:n}),r.a.createElement("div",{className:"container__text"},a.map((function(e){return r.a.createElement("p",{key:e},e)}))))}))))},dt=function(){return r.a.createElement("div",{className:"homepage__front"},r.a.createElement("div",{className:"homepage__welcome"},r.a.createElement("h2",null,"Welcome at"),r.a.createElement("h1",{className:"homepage__header"},"Student ",r.a.createElement("span",null,"Dorm")," Laundry")),r.a.createElement("div",{className:"homepage__buttons"},r.a.createElement(s.b,{to:"/sign-in"},r.a.createElement("button",{className:"button__signin"},"SIGN IN")),r.a.createElement(s.b,{to:"/sign-up"},r.a.createElement("button",{className:"button__signup"},"SIGN UP"))))},pt=n(99),Et=n(147),bt=n(96),ft=n(148),Ot=[[r.a.createElement(Fe.b,null),"Create Account",!0],[r.a.createElement(Et.a,null),"Sign In",!0],[r.a.createElement(lt.a,null),"Choose Date",!0],[r.a.createElement(bt.b,null),"Book",!0],[r.a.createElement(ft.a,null),"Do Laundry!",!1]],vt=function(e){var t=Object(C.a)(e.props,4),n=t[0],a=t[1],c=t[2],o=t[3];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"homepage__tile ".concat(n)},r.a.createElement("div",{className:"homepage__tile__wrapper--top"},r.a.createElement(He,{icon:a,name:"homepage__tile__icon"})),r.a.createElement("div",{className:"homepage__tile__wrapper"},r.a.createElement("h3",null,c))),o&&r.a.createElement(He,{icon:r.a.createElement(bt.a,null),name:"homepage__tile__arrow ".concat(n)}))},gt=function(){var e=Object(a.useState)(),t=Object(C.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=window.addEventListener("scroll",(function(){window.scrollY>500&&c("animate")}));return function(){return window.removeEventListener("scroll",e)}}),[]),r.a.createElement("div",{className:"homepage__instruction"},r.a.createElement("div",{className:"homepage__instruction--header"},r.a.createElement("h2",null,r.a.createElement("span",null,"How it Works?"))),r.a.createElement("div",{className:"homepage__tiles"},Ot.map((function(e){return r.a.createElement(vt,{key:e[1],props:[n].concat(Object(pt.a)(e))})}))))},_t=function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(dt,null),r.a.createElement(gt,null),r.a.createElement(mt,null))},St=function(e,t){return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ue.post("/user/login",{name:e,password:t}));case 1:case"end":return n.stop()}}))},ht=function(e,t,n){return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",ue.post("/user/create",{name:e,email:n,password:t}));case 1:case"end":return a.stop()}}))},wt=function(e,t){return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ue.post("/user/change-password",{password:e,newPassword:t}));case 1:case"end":return n.stop()}}))},yt={Nickname:"",Password:""},kt=function(){var e=Object(u.b)();return r.a.createElement(Z.d,{initialValues:yt,validationSchema:ae,onSubmit:function(t){var n,a,r=t.Nickname,c=t.Password;return e((n=r,a=c,function(e){var t;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e({type:"LOGIN"}),r.next=4,M.a.awrap(St(n,a));case 4:return t=r.sent,localStorage.setItem("token",t.data.token),r.next=8,M.a.awrap(e(I(t.data)));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),r.t0.response?e(G(r.t0.response.data.errors[0].msg)):e(G("Internal server error"));case 13:case"end":return r.stop()}}),null,null,[[0,10]])}))}},r.a.createElement(Z.c,{className:"signup"},r.a.createElement(Ae,{text:"Account Deleted",toastType:"DELETE"}),r.a.createElement(Me,{title:"Sign In",action:"LOGIN",render:function(){return Object.keys(yt).map((function(e){return r.a.createElement("div",{key:e,className:"form__input"},r.a.createElement("label",{htmlFor:e},e),r.a.createElement(Z.b,{name:e,type:e}),r.a.createElement(Z.a,{name:e},(function(e){return r.a.createElement("div",{className:"form__error"},e)})))}))}})))},Nt={Nickname:"",Email:"",Password:"",Repassword:""},jt=function(){var e=Object(u.b)();return r.a.createElement(Z.d,{initialValues:Nt,validationSchema:ne,onSubmit:function(t,n){var a=n.setSubmitting;e(function(e){var t=e.Nickname,n=e.Password,a=e.Email;return function(e){var r;return M.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,e({type:"LOGIN"}),c.next=4,M.a.awrap(ht(t,n,a));case 4:return r=c.sent,localStorage.setItem("token",r.data.token),c.next=8,M.a.awrap(e(I(r)));case 8:c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),c.t0.response?e(G(c.t0.response.data.msg)):e(G("Internal server error"));case 13:case"end":return c.stop()}}),null,null,[[0,10]])}}(t)),a(!1)}},r.a.createElement(Z.c,{className:"signup"},r.a.createElement(Me,{title:"Create Account",action:"SUBMIT",render:function(){return Object.keys(Nt).map((function(e){return r.a.createElement("div",{key:e,className:"form__input"},r.a.createElement("label",{htmlFor:e},e),r.a.createElement(Z.b,{name:e,type:"Repassword"===e?"password":e}),r.a.createElement(Z.a,{name:e},(function(e){return r.a.createElement("div",{className:"form__error"},e)})))}))}})))},Ct=$e((function(e){var t=e.confirm,n=e.name,c=e.setOpen,o=Object(u.b)();return Object(a.useEffect)((function(){t&&o((function(e){return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.a.awrap(M.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.delete("/user"));case 1:case"end":return e.stop()}})));case 3:e(Oe("DELETE")),e({type:"LOGOUT"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response?e(U(t.t0.response.data.msg)):e(U("Internal server error"));case 10:case"end":return t.stop()}}),null,null,[[0,7]])}))}),[t]),r.a.createElement("button",{className:n,onClick:function(){return c(!0)}},"DELETE")})),Tt={Password:"",newPassword:"",newPasswordConfirm:""},xt=function(){var e=Object(u.b)();return r.a.createElement("div",{className:"user-page"},r.a.createElement(Ae,{text:"Password Changed",toastType:"CHANGE"}),r.a.createElement(Z.d,{initialValues:Tt,validationSchema:ce,onSubmit:function(t,n){var a=t.Password,r=t.newPassword;(0,n.resetForm)({}),e(function(e,t){return function(n){return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"CHANGE_PASSWORD"}),a.next=4,M.a.awrap(wt(e,t));case 4:n({type:"CHANGE_PASSWORD_SUCCESS"}),n(Oe("CHANGE")),n({type:"CLEAR_ERRORS"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),a.t0.response?n(U(a.t0.response.data.msg)):n(U("Internal server error"));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}}(a,r))}},r.a.createElement(Z.c,{className:"signup"},r.a.createElement(Me,{title:"Change Password",action:"CHANGE",render:function(){return Object.keys(Tt).map((function(e){return r.a.createElement("div",{key:e,className:"form__input"},r.a.createElement("label",{htmlFor:e},"Password"===e?e:"newPassword"===e?"New Password":"Confirm New Password"),r.a.createElement(Z.b,{name:e,type:"Password"}),r.a.createElement(Z.a,{name:e},(function(e){return r.a.createElement("div",{className:"form__error"},e)})))}))}}))),r.a.createElement(Ct,{name:"delete"}),r.a.createElement(De,null))},At=function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Hours"),r.a.createElement("th",null,"Cancel")))},Lt=function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:"empty",colSpan:"4"},"Booking list is empty."))},Bt=$e((function(e){var t=e.confirm,n=e.data,c=n.date,o=n.hours,s=n._id,l=e.number,i=e.setOpen,m=Object(u.c)((function(e){return e.user})).isAdmin,d=Object(u.c)((function(e){return e.admin.user._id})),p=Object(B.h)().id,E=Object(u.b)();Object(a.useEffect)((function(){!m&&t&&E(nt(c,s))}),[s,t,c,E,p,m,d]);return r.a.createElement("tr",null,r.a.createElement("td",null,l+1,"."),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement("button",{className:"cancel",onClick:function(){return m?E(ke(c,s,m,d)):i(!0)}},"X")))})),Rt=Ze((function(e){var t=e.bookings;return r.a.createElement("table",null,r.a.createElement(At,null),r.a.createElement("tbody",null,t.length?t.map((function(e,t){return r.a.createElement(Bt,{key:t,data:e,number:t})})):r.a.createElement(Lt,null)))})),It=function(){var e=Object(u.c)((function(e){return e.userBookings})),t=e.error,n=e.loading,c=e.userBookings,o=Object(u.b)();return Object(a.useEffect)((function(){o(tt())}),[o]),r.a.createElement("div",{className:"user-bookings"},r.a.createElement(Rt,{bookings:c,error:t,loading:n}),r.a.createElement(De,null))},Gt=function(){var e=Object(u.c)((function(e){return e.admin.user})),t=e.name,n=e.email,c=e.date,o=Object(u.c)((function(e){return e.admin})).userBookings,s=Object(u.b)(),l=Object(B.h)().id;return Object(a.useEffect)((function(){s(function(e){return function(t){var n;return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M.a.awrap(t({type:"GET_USER_START"}));case 3:return a.next=5,M.a.awrap(Ee(e).catch((function(){throw new Error("Internal Server Error")})));case 5:n=a.sent,t({type:"GET_USER_SUCCESS",payload:{user:n.data}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"GET_USER_FAILURE",payload:{error:a.t0.message}});case 12:case"end":return a.stop()}}),null,null,[[0,9]])}}(l)),s(je(l))}),[l]),r.a.createElement("div",{className:"user-details"},r.a.createElement(qe,null),r.a.createElement("h2",null,"User Details"),r.a.createElement("div",{className:"user-details__info"},r.a.createElement("p",null,r.a.createElement("span",null,"Nickname:")," ",t),r.a.createElement("p",null,r.a.createElement("span",null,"Email:")," ",n),r.a.createElement("p",null,r.a.createElement("span",null,"Joining date:")," ",c?c.slice(0,10):null)),r.a.createElement("h3",null,"User Bookings"),o&&r.a.createElement(Rt,{bookings:o}),r.a.createElement(Ae,{text:"Slot deleted",toastType:"DELETE"}))},Ut=function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",{colSpan:"3"},"Actions")))},Dt=function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:"empty",colSpan:"2"},"Nothing found. Try to search other term."))},Pt=function(e){var t=e.name,n=e.id,c=e.isBlocked,o=Object(a.useState)(c),l=Object(C.a)(o,2),i=l[0],m=l[1],d=Object(u.b)();return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/admin/user/".concat(n)},r.a.createElement("button",null,"Details"))),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/admin/user/password/".concat(n)},r.a.createElement("button",null,"Password"))),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){d(function(e,t){return function(n){return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M.a.awrap(n({type:"HANDLE_BLOCK_START"}));case 3:return a.next=5,M.a.awrap(fe(e,t));case 5:return a.next=7,M.a.awrap(n({type:"HANDLE_BLOCK_SUCCESS",payload:{error:void 0}}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n((a.t0.message,{type:"HANDLE_BLOCK_FAILURE"}));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}}(n,i)),m(!i)}},i?"Unblock":"Block")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return alert("Functionality disabled")}},"Delete")))},Ft=function(e){var t=e.users;return r.a.createElement("table",null,r.a.createElement(Ut,null),r.a.createElement("tbody",null,t.length?t.map((function(e,t){var n=Object(Q.a)({},e);return r.a.createElement(Pt,Object.assign({key:t},n))})):r.a.createElement(Dt,null)))},Kt={Nickname:""},Ht=function(e){var t=e.name,n=Object(u.b)();return Object(a.useEffect)((function(){n(Ne())}),[]),r.a.createElement(Z.d,{initialValues:Kt,onSubmit:function(e){var t=e.Nickname;n(Ne(t))}},r.a.createElement(Z.c,{className:t},r.a.createElement(Z.b,{name:"Nickname",type:"text",placeholder:"User Nickname"})))},qt=function(e){var t=e.currentPage,n=e.setCurrentPage,a=e.pages;return r.a.createElement("div",{className:"pagination"},function(e,t){var n=t<=3?[0,5]:t>3&&t<e.length-4?[t-2,t+3]:[e.length-5,e.length],a=Object(C.a)(n,2),r=a[0],c=a[1];return e.slice(r,c)}(Object(pt.a)(Array(a).keys()),t).map((function(e,a){return r.a.createElement("p",{className:e===t?"active":"",onClick:function(){return n(e)},key:a},e+1)})))},Wt=function(){var e=Object(a.useState)(0),t=Object(C.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(0),s=Object(C.a)(o,2),l=s[0],i=s[1],m=Object(a.useState)([]),d=Object(C.a)(m,2),p=d[0],E=d[1],b=Object(u.c)((function(e){return e.admin.users}));return Object(a.useEffect)((function(){if(b){c(Math.ceil(b.length/10));var e=b.slice(10*l,10*l+10);E(e)}}),[b,l]),r.a.createElement("div",{className:"users-search"},r.a.createElement(Ht,{name:"users-search__input"}),r.a.createElement(Ft,{users:p}),r.a.createElement(qt,{currentPage:l,setCurrentPage:i,pages:n}),r.a.createElement(De,null))},Mt=function(){return r.a.createElement(B.d,null,r.a.createElement(D,{exact:!0,path:"/admin",component:Pe,secured:!0}),r.a.createElement(D,{exact:!0,path:"/admin/search",component:Wt,secured:!0}),r.a.createElement(D,{exact:!0,path:"/admin/user/:id",component:Gt,secured:!0}),r.a.createElement(D,{exact:!0,path:"/admin/user/password/:id",component:Ye,secured:!0}),r.a.createElement(D,{path:"/booking-board",component:ut,secured:!0}),r.a.createElement(D,{exact:!0,path:"/",component:_t}),r.a.createElement(D,{path:"/sign-in",component:kt}),r.a.createElement(D,{path:"/sign-up",component:jt}),"x`",r.a.createElement(D,{path:"/user",component:xt,secured:!0}),r.a.createElement(D,{path:"/user-bookings",component:It,secured:!0}))};o.a.render(r.a.createElement((function(){return r.a.createElement(u.a,{store:j},r.a.createElement(s.a,{basename:"laundry-front"},r.a.createElement("div",{className:"App"},r.a.createElement(L,null),r.a.createElement(Mt,null),r.a.createElement(l.a,{autoClose:2e3}))))}),null),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.f12c89bd.chunk.js.map